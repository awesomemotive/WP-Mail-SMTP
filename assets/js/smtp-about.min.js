var WPMailSMTP=window.WPMailSMTP||{};WPMailSMTP.Admin=WPMailSMTP.Admin||{},WPMailSMTP.Admin.About=WPMailSMTP.Admin.About||function(a,t,m){"use strict";var i={init:function(){m(a).ready(i.ready)},ready:function(){i.pageHolder=m(".wp-mail-smtp-page-about"),i.bindActions(),m(".wp-mail-smtp-page").trigger("WPMailSMTP.Admin.About.ready")},bindActions:function(){jQuery(".wp-mail-smtp-admin-about-plugins .plugin-item .details").matchHeight(),m(a).on("click",".wp-mail-smtp-admin-about-plugins .plugin-item .action-button .button",function(a){a.preventDefault();var t=m(this);if(t.hasClass("disabled")||t.hasClass("loading"))return!1;var i,s,n,l,e,o,u=t.closest(".plugin-item"),d=t.attr("data-plugin");if(t.prop("disabled",!0).addClass("loading"),t.text(wp_mail_smtp_about.plugin_processing),t.hasClass("status-inactive"))i="about_plugin_activate",s="status-active button button-secondary disabled",n=wp_mail_smtp_about.plugin_active,l=wp_mail_smtp_about.plugin_activated,e=wp_mail_smtp_about.plugin_activate;else{if(!t.hasClass("status-download"))return;i="about_plugin_install",s="status-active button disabled",n=wp_mail_smtp_about.plugin_active,l=wp_mail_smtp_about.plugin_activated,e=wp_mail_smtp_about.plugin_activate}var p={action:"wp_mail_smtp_ajax",task:i,nonce:wp_mail_smtp_about.nonce,plugin:d};m.post(wp_mail_smtp_about.ajax_url,p,function(a){a.success?("about_plugin_install"===i?(t.attr("data-plugin",a.data.basename),o=a.data.msg,a.data.is_activated||(s="button",n=wp_mail_smtp_about.plugin_inactive,l=wp_mail_smtp_about.plugin_activate)):o=a.data,u.find(".actions").append('<div class="msg success">'+o+"</div>"),u.find("span.status-label").removeClass("status-active status-inactive status-download").addClass(s).removeClass("button button-primary button-secondary disabled").text(n),t.removeClass("status-active status-inactive status-download").removeClass("button button-primary button-secondary disabled").addClass(s).html(l)):(a.hasOwnProperty("data")&&a.data.hasOwnProperty(0)&&a.data[0].hasOwnProperty("code")&&"download_failed"===a.data[0].code?u.find(".actions").append('<div class="msg error">'+wp_mail_smtp_about.plugin_install_error+"</div>"):u.find(".actions").append('<div class="msg error">'+a.data+"</div>"),t.html(e)),t.prop("disabled",!1).removeClass("loading"),setTimeout(function(){m(".plugin-item .msg").remove()},3e3)}).fail(function(a){console.log(a.responseText)})})}};return i}(document,window,jQuery),WPMailSMTP.Admin.About.init();